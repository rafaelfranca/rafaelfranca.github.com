<!DOCTYPE html>
<html lang="pt-BR">
    <head>
      <title>Blog do Rafael França - Controle de Versões com o GIT - Parte 2</title>

        <meta name="google-site-verification" content="NoKCJIyC-oUkWEgHwRjBkLnQaNbZp-PLi9A4FiCO3ag" />
        <meta charset="utf-8">
        <meta name="keywords" content="git, svn, dvcs, vcs, controle, versão, versao, vim, rebase, merge, branch, branching"/>
        <meta name="description" content="Controle de Versão com GIT - Parte 2"/>

        <link rel="stylesheet" href="/css/screen.css" media="screen" charset="utf-8">
        <link rel="stylesheet" href="/css/style.css" media="screen" charset="utf-8">
        <link rel="stylesheet" href="/css/syntax.css" media="screen" charset="utf-8">
        <link rel="shortcut icon" href="/favicon.ico">
        <link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/rafaelfranca" />

        <!--[if IE]>
          <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body>
      <div class="container">
        <header id="header">
          <h1><a href="http://www.rafaelfranca.com.br">Blog do Rafael França</a></h1>
          <h2>Desenvolvimento de Software, Agile e Ruby on Rails</h2>
          <nav id="menu">
            <ul>
              <li><a title="Início" href="/">Início</a></li>
              <li><a title="Arquivo" href="/arquivo.html">Arquivo</a></li>
              <li><a title="Sobre o Autor" href="/sobre.html">Sobre</a></li>
            </ul>
          </nav>
          <div class="clearfix"></div>
        </header>

        <section id="main">
          <article class="post prepend-1 append-1 span-15">
  <header>
    <h1><a href="/Git/2009/08/14/controle-de-versao-com-git-parte-2.html">Controle de Versões com o GIT - Parte 2</a></h1>
    <h2>Postado por Rafael Mendonça França em 14/08/2009</h2>
    <h2>Categorias: Git</h2>
  </header>
  <p>Essa é a segunda parte do meu tutorial básico sobre o <span class="caps">GIT</span>. Neste tutorial irei mostrar como trabalhar com branching e resolver conflitos que podem ocorrer durante o merge.</p>
<h1>Trabalhando com branches</h1>
<p>Para criar uma novo branch a partir do commit atual utiliza-se o seguinte comando:</p>
<p><code>git checkout -b novo_branch</code></p>
<p>Para verificar quais são os branches existentes utilizamos o comando:</p>
<p><code>git branch</code></p>
<p>Para retornar para o branch master utilizamos os comando:</p>
<p><code>git checkout master</code></p>
<p>Para alterar entre os branches existentes o comando utilizado é:</p>
<p><code>git checkout novo_branch</code></p>
<h1>Juntando dois branches</h1>
<p>Uma das coisas mais dispendiosas quando estamos trabalhando com o <span class="caps">SVN</span> é juntar dois branches que estão em desenvolvimento. Dificilmente gastamos menos que 10 minutos para resolver todos os conflitos e unir dois branches. Algumas vezes isso causa muita dor de cabeça para o programador.</p>
<p>O <span class="caps">GIT</span> possui um sistema de merge muito intuitivo. Poucas vezes o programador precisa intervir para resolver conflitos em seus merges. Para isso ele utiliza várias estratégias para fazer o merge.</p>
<p>O comando utilizado para fazer o merge é o seguinte:</p>
<p><code>git merge master novo_branch</code></p>
<p>Outro comando que podemos utilizar para juntar dois branches é o comando <code>rebase</code>. A principal diferença do comando rebase para o merge é que ao invés de criar um novo commit com o resultado da junção dos dois branches o <span class="caps">GIT</span> faz o fast-forward juntando as duas árvores de commits, mantendo, com isso, o histórico de commits feitos em ambos os branches e diminuindo o número de conflitos.</p>
<p>A figura a seguir mostra o comportamento do rebase.</p>
<div style="text-align:center;"><img src="http://rafaelfranca.com.br/images/rebase4-300x124.png" title="Rebase" alt="Rebase" /></div>
<h1>Resolvendo conflitos</h1>
<p>Algumas vezes quando utilizamos do merge ou até mesmo do rebase podem ocorrer alguns conflitos. Para resolve-los temos que editar os arquivos que causaram o conflito. Os arquivos com conflito geralmente se encontram com a seguinte estrutura:</p>
<div class="highlight"><pre><code class="ruby"><span class="lineno">1</span>   <span class="k">class</span> <span class="nc">Person</span>
<span class="lineno">2</span>     <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="lineno">3</span>   <span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="no">HEAD</span><span class="ss">:person</span><span class="o">.</span><span class="n">rb</span>
<span class="lineno">4</span>       <span class="nb">puts</span> <span class="s2">&quot;Pessoa: &quot;</span> <span class="o">+</span> <span class="n">text</span>
<span class="lineno">5</span>   <span class="o">=======</span>
<span class="lineno">6</span>       <span class="nb">puts</span> <span class="s1">&#39;Nome: &#39;</span> <span class="o">+</span> <span class="n">text</span>
<span class="lineno">7</span>   <span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">novo_branch</span><span class="ss">:person</span><span class="o">.</span><span class="n">rb</span>
<span class="lineno">8</span>     <span class="k">end</span>
<span class="lineno">9</span>   <span class="k">end</span>
</code></pre>
</div><p>Para resolver este conflito basta apagar as linhas que não são necessárias e depois dar o commit.<br />
No caso do rebase ele vai para o procedimento assim que achar o primeiro commit conflitante. Para continuar com o rebase é necessário primeiramente resolver o conflite e depois digitar o comando</p>
<p><code>git rebase --continue</code></p>
<p>Caso seja necessário abortar um rebase utiliza-se o comando</p>
<p><code>git rebase --abort</code></p>
<p>Eu particularmente prefiro utilizar uma ferramenta para resolver os conflitos, para isto eu utilizo o comando</p>
<p><code>git mergetool</code></p>
<p>Existem diversas ferramentas para isto. Eu utilizo o <a href="http://linux.die.net/man/1/gvimdiff">gvimdiff</a>, mas já utilizei o meld, que é uma ótima ferramenta para quem usa o gnome.</p>
<h1>Conclusão</h1>
<p>Encerro aqui esta segunda parte do tutorial do <span class="caps">GIT</span>, semana que vem eu retorno com mais algumas considerações sobre o <span class="caps">GIT</span></p>
<h1>Referências</h1>
<p>Boa parte das informações deste post foram retiradas de:</p>
<ul>
	<li><a href="http://book.git-scm.comgit">Git Book</a></li>
	<li><a href="http://gitcasts.com">GitCasts</a></li>
</ul>
  <div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_identifier;
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://rafaelfranca.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=rafaelfranca">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</article>


          <aside class="span-6 last">
            <div id="parceiros">
              <a title="Grupo Agência" href="http://www.grupoagencia.com.br"><img src="/images/marca_grupo.png" alt="Grupo Agência" /></a>
            </div>
            <h1>Artigos recentes</h1>
            <ul>
              
                <li><a href="/Agile/2010/11/24/apresentacao-ge2ps.html">Apresentação na GE2PS</a>
              
                <li><a href="/Ruby/2010/08/30/preparando-o-ambiente-ruby.html">Preparando o ambiente Ruby</a>
              
                <li><a href="/Web/2010/07/08/sobre-o-html5.html">Sobre o HTML5</a>
              
                <li><a href="/Ruby/2010/05/17/apresentacao-secomp-ufs.html">Apresentação da Secomp - UFS</a>
              
                <li><a href="/Ruby/2010/05/16/site-migrado-para-jekyll.html">Blog migrado para Jekyll</a>
              
                <li><a href="/Produtividade/Gestao/2009/09/30/traducao-manter-se-atualizado-uma-responsabilidade-dos-desenvolvedores-de-software.html">[Tradução] Manter-se atualizado: uma responsabilidade dos Desenvolvedores de Software</a>
              
                <li><a href="/Arquitetura/2009/08/24/padrao-mvc.html">Padrão MVC</a>
              
                <li><a href="/Git/2009/08/14/controle-de-versao-com-git-parte-2.html">Controle de Versões com o GIT - Parte 2</a>
              
                <li><a href="/Git/2009/08/07/controle-de-versao-com-git-parte-1.html">Controle de Versões com o GIT - Parte 1</a>
              
            </ul>
          </aside>
          <div class="clearfix"></div>
        </section>

        <footer>
          <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/br/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/br/88x31.png" /></a><br />Esta obra est&#225; licenciada sob uma <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/br/">Licen&#231;a Creative Commons</a>.
          <br />
          Powered by <a href='http://github.com/mojombo/jekyll'>Jekyll</a>.
        </footer>
      </div>
<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/rafaelfranca/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>      
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-10132559-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    </body>
</html>
