<p>Essa é a segunda parte do meu tutorial básico sobre o <span class="caps">GIT</span>. Neste tutorial irei mostrar como trabalhar com branching e resolver conflitos que podem ocorrer durante o merge.</p>
<h1>Trabalhando com branches</h1>
<p>Para criar uma novo branch a partir do commit atual utiliza-se o seguinte comando:</p>
<p><code>git checkout -b novo_branch</code></p>
<p>Para verificar quais são os branches existentes utilizamos o comando:</p>
<p><code>git branch</code></p>
<p>Para retornar para o branch master utilizamos os comando:</p>
<p><code>git checkout master</code></p>
<p>Para alterar entre os branches existentes o comando utilizado é:</p>
<p><code>git checkout novo_branch</code></p>
<h1>Juntando dois branches</h1>
<p>Uma das coisas mais dispendiosas quando estamos trabalhando com o <span class="caps">SVN</span> é juntar dois branches que estão em desenvolvimento. Dificilmente gastamos menos que 10 minutos para resolver todos os conflitos e unir dois branches. Algumas vezes isso causa muita dor de cabeça para o programador.</p>
<p>O <span class="caps">GIT</span> possui um sistema de merge muito intuitivo. Poucas vezes o programador precisa intervir para resolver conflitos em seus merges. Para isso ele utiliza várias estratégias para fazer o merge.</p>
<p>O comando utilizado para fazer o merge é o seguinte:</p>
<p><code>git merge master novo_branch</code></p>
<p>Outro comando que podemos utilizar para juntar dois branches é o comando <code>rebase</code>. A principal diferença do comando rebase para o merge é que ao invés de criar um novo commit com o resultado da junção dos dois branches o <span class="caps">GIT</span> faz o fast-forward juntando as duas árvores de commits, mantendo, com isso, o histórico de commits feitos em ambos os branches e diminuindo o número de conflitos.</p>
<p>A figura a seguir mostra o comportamento do rebase.</p>
<p><img src="images/rebase4-300x124.png" title="Rebase" alt="Rebase" /></p>
<h1>Resolvendo conflitos</h1>
<p>Algumas vezes quando utilizamos do merge ou até mesmo do rebase podem ocorrer alguns conflitos. Para resolve-los temos que editar os arquivos que causaram o conflito. Os arquivos com conflito geralmente se encontram com a seguinte estrutura:</p>
<div class="highlight"><pre><code class="ruby"><span class="lineno">1</span>   <span class="k">class</span> <span class="nc">Person</span>
<span class="lineno">2</span>     <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="lineno">3</span>   <span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="no">HEAD</span><span class="ss">:person</span><span class="o">.</span><span class="n">rb</span>
<span class="lineno">4</span>       <span class="nb">puts</span> <span class="s2">&quot;Pessoa: &quot;</span> <span class="o">+</span> <span class="n">text</span>
<span class="lineno">5</span>   <span class="o">=======</span>
<span class="lineno">6</span>       <span class="nb">puts</span> <span class="s1">&#39;Nome: &#39;</span> <span class="o">+</span> <span class="n">text</span>
<span class="lineno">7</span>   <span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">novo_branch</span><span class="ss">:person</span><span class="o">.</span><span class="n">rb</span>
<span class="lineno">8</span>     <span class="k">end</span>
<span class="lineno">9</span>   <span class="k">end</span>
</code></pre>
</div><p>Para resolver este conflito basta apagar as linhas que não são necessárias e depois dar o commit.<br />
No caso do rebase ele vai para o procedimento assim que achar o primeiro commit conflitante. Para continuar com o rebase é necessário primeiramente resolver o conflite e depois digitar o comando</p>
<p><code>git rebase --continue</code></p>
<p>Caso seja necessário abortar um rebase utiliza-se o comando</p>
<p><code>git rebase --abort</code></p>
<p>Eu particularmente prefiro utilizar uma ferramenta para resolver os conflitos, para isto eu utilizo o comando</p>
<p><code>git mergetool</code></p>
<p>Existem diversas ferramentas para isto. Eu utilizo o <a href="http://linux.die.net/man/1/gvimdiff">gvimdiff</a>, mas já utilizei o meld, que é uma ótima ferramenta para quem usa o gnome.</p>
<h1>Conclusão</h1>
<p>Encerro aqui esta segunda parte do tutorial do <span class="caps">GIT</span>, semana que vem eu retorno com mais algumas considerações sobre o <span class="caps">GIT</span></p>
<h1>Referências</h1>
<p>Boa parte das informações deste post foram retiradas de:</p>
<ul>
	<li><a href="http://book.git-scm.comgit">Git Book</a></li>
	<li><a href="http://gitcasts.com">GitCasts</a></li>
</ul>